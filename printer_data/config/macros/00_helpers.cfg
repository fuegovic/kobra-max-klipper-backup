# ============================================
# File: 00_helpers.cfg
# Purpose: Common reusable snippets and helper macros
# Safe during print: DEPENDS (only call from other macros)
# Notes:
# - Contains low-level routines like __park_head, __ensure_heaters, __respond_error
# - Should not directly move hardware without explicit macro call
# ============================================


####################################################################
# CONDITIONAL HOMING
####################################################################

[gcode_macro _CG28]
description: Conditional home - only home if axes not already homed
gcode:
    {% if "xyz" not in printer.toolhead.homed_axes %}
        M117 Homing required - homing all axes
        G28
    {% else %}
        M117 Already homed - skipping home
    {% endif %}

[gcode_macro PAUSE_TOGGLE]
gcode:
    {% if printer.status.printing %}
        PAUSE
    {% elif printer.status.paused %}
        RESUME
    {% endif %}
